
# MyGrep - Mini grep Implementation

[🔽 اذهب مباشرة إلى قسم التفكير 🧠](#-نظرة-على-التنفيذ)

## 📄 مقدمة
`mygrep.sh` هو سكربت بسيط لمحاكاة بعض وظائف أمر `grep` المعروف في لينكس. يتيح البحث عن سلسلة نصية داخل ملف مع دعم بعض الخيارات المفيدة مثل عرض أرقام الأسطر، عكس النتائج، عدّ عدد النتائج، أو عرض اسم الملف عند وجود تطابق.

## 🚀 كيفية التشغيل
أولاً، تأكد أن السكربت قابل للتنفيذ:

```bash
chmod +x mygrep.sh
```

ثم يمكنك تشغيله عبر:

```bash
./mygrep.sh [الخيارات] "نص_البحث" اسم_الملف
```

## ⚙️ الخيارات المدعومة
تم استخدام `getopts` للتعامل مع الخيارات بطريقة مرنة ومنظمة.

| الخيار | الوصف |
|:------:|:------|
| `-n`   | عرض أرقام الأسطر بجانب الأسطر المطابقة. |
| `-v`   | عكس البحث (عرض الأسطر التي **لا** تحتوي على نص البحث). |
| `-c`   | عدّ وعرض عدد الأسطر المطابقة فقط. |
| `-l`   | عرض اسم الملف فقط إذا تم العثور على تطابق. |
| `--help` | عرض رسالة المساعدة مع تفاصيل الاستخدام. |

## 🧠 نظرة على التنفيذ
السكربت يعتمد على تقسيم واضح للمهام، حيث يتم التعامل مع كل مرحلة (التحقق من المعطيات، قراءة الملف، معالجة النتائج) بشكل منفصل ومنظم عبر أقسام واضحة داخله.

تم التعامل مع تحليل الخيارات باستخدام `getopts`، مما يسمح بمرونة في تمرير الخيارات المختلفة مع الحفاظ على بساطة الاستخدام.

بعد معالجة الخيارات، يتم نقل الوسائط المتبقية (`shift`) بحيث يمكن التعامل مع نص البحث واسم الملف مباشرة.

أثناء قراءة الملف، يتم فحص كل سطر على حدة لمعرفة إذا ما كان يحتوي على نص البحث (أو لا يحتوي عليه في حالة خيار `-v`)، ويتم اتخاذ الإجراء المناسب بناءً على الخيارات المفعلة (`-n`, `-v`, `-c`, `-l`).

### 🧩 أكثر جزء كان معقد
أكثر جزء استغرق وقت وجهد كان **التعامل مع `getopts`** وربطه مع باقي أجزاء السكربت بشكل صحيح.  
كان التحدي الأساسي هو ضمان أن جميع الخيارات تعمل مع بعضها بدون تعارض، وأن يتم تمرير نص البحث واسم الملف بطريقة صحيحة بعد إنهاء قراءة الخيارات.  
كذلك، كان ربط كل الـ Sections ببعضها، بحيث يتكاملوا مع بعض بسلاسة (من مرحلة استقبال المعطيات إلى مرحلة عرض النتائج)، يحتاج تركيز ودقة في التفاصيل.

## 📸 أمثلة على الاستخدام

🔹 بحث أساسي عن كلمة (بشكل غير حساس لحالة الأحرف):

```bash
./mygrep.sh hello testfile.txt
```

🔹 عرض أرقام الأسطر مع النتائج:

```bash
./mygrep.sh -n hello testfile.txt
```

🔹 عكس البحث مع عرض أرقام الأسطر:

```bash
./mygrep.sh -vn hello testfile.txt
```

🔹 عكس النتائج فقط:

```bash
./mygrep.sh -v hello testfile.txt
```

🔹 عدّ عدد الأسطر المطابقة:

```bash
./mygrep.sh -c hello testfile.txt
```

🔹 عرض اسم الملف فقط في حال وجود تطابق:

```bash
./mygrep.sh -l hello testfile.txt
```

🔹 عرض رسالة المساعدة:

```bash
./mygrep.sh --help
```

## 📂 هيكلية الملفات

```
.
├── mygrep.sh                # السكربت الرئيسي
├── testfile.txt              # ملف للاختبار
├── Screenshot_Of_Outputs.png # لقطات شاشة توضح النتائج
└── README.md                 # هذا الملف التوثيقي
```

## 📢 ملاحظات إضافية
- البحث يتم بطريقة **غير حساسة لحالة الأحرف**.
- السكربت يتحقق من صحة المعطيات و يعرض رسائل خطأ مناسبة إذا كان هناك نقص أو خطأ.
- يحاكي سلوك `grep` القياسي قدر الإمكان مع الحفاظ على البساطة.

